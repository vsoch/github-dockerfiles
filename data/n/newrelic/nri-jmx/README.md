# New Relic Infrastructure Integration for JMX


The New Relic Infrastructure Integration for JMX flexibly monitors any application that exposes metrics via JMX. 

## Requirements

JMX is required to be enabled on the monitored host. 

Information on configuring JMX can be found [here](https://docs.oracle.com/javase/8/docs/technotes/guides/management/agent.html).

## Installation

- download an archive file for the `JMX` Integration
- extract `jmx-definition.yml` and `/bin` directory into `/var/db/newrelic-infra/newrelic-integrations`
- add execute permissions for the binary file `nr-jmx` (if required)
- extract `jmx-config.yml.sample` into `/etc/newrelic-infra/integrations.d`
- install [`nrjmx` tool](https://github.com/newrelic/nrjmx) 

## Usage

This is the description about how to run the JMX Integration with New Relic Infrastructure agent, so it is required to have the agent installed (see [agent installation](https://docs.newrelic.com/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux)).

In order to use the JMX Integration it is required to configure `jmx-config.yml.sample` file. Firstly, rename the file to `jmx-config.yml`. Then, depending on your needs, specify all instances that you want to monitor. Once this is done, restart the Infrastructure agent.

You can view your data in Insights by creating your own custom NRQL queries. To do so, write queries against a domain's sample name which was created by you or generated by the Integration. A sample name generated from the domain `java.lang` will look like `JavaLangSample`.

## Compatibility

* Supported OS: No limitations

## Integration Development usage

Assuming that you have source code you can build and run the JMX Integration locally.

* Go to directory of the JMX Integration and build it
```bash
$ make
```
* The command above will execute tests for the JMX Integration and build an executable file called `nr-jmx` in `bin` directory.
```bash
$ ./bin/nr-jmx
```
* If you want to know more about usage of `./nr-jmx` check
```bash
$ ./bin/nr-jmx -help
```

For managing external dependencies [govendor tool](https://github.com/kardianos/govendor) is used. It is required to lock all external dependencies to specific version (if possible) into vendor directory.
